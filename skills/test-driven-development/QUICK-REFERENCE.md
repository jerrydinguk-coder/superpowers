# TDD Templates Quick Reference

å¿«é€Ÿå‚è€ƒæŒ‡å—ï¼Œå¸®åŠ©ä½ æ­£ç¡®ä½¿ç”¨ test-plan å’Œ test-report æ¨¡æ¿ã€‚

---

## ğŸ“‹ ä½•æ—¶ä½¿ç”¨è¿™äº›æ¨¡æ¿

### test-plan.md
**æ—¶æœºï¼š** åœ¨å†™ä»»ä½•æµ‹è¯•ä»£ç æˆ–å®ç°ä»£ç ä¹‹å‰

**è§¦å‘æ¡ä»¶ï¼š**
- å¼€å§‹æ–°åŠŸèƒ½å¼€å‘
- ä¿®å¤ bugï¼ˆéœ€è¦å›å½’æµ‹è¯•ï¼‰
- é‡æ„ä»£ç ï¼ˆç¡®ä¿è¡Œä¸ºä¸å˜ï¼‰

**ä½ç½®ï¼š** `docs/features/<feature-key>/test-plan.md`

### test-report.md
**æ—¶æœºï¼š** åœ¨æ¯ä¸ªæµ‹è¯•çš„ RED å’Œ GREEN é˜¶æ®µåç«‹å³æ›´æ–°

**è§¦å‘æ¡ä»¶ï¼š**
- å†™å®Œæµ‹è¯•ï¼Œè¿è¡Œå¤±è´¥ï¼ˆREDï¼‰â†’ è®°å½•å¤±è´¥è¯æ®
- å®ç°ä»£ç ï¼Œæµ‹è¯•é€šè¿‡ï¼ˆGREENï¼‰â†’ è®°å½•æˆåŠŸè¯æ®

**ä½ç½®ï¼š** `docs/features/<feature-key>/test-report.md`

---

## ğŸ¯ Test ID å‘½åè§„èŒƒ

### âœ… æ­£ç¡®æ ¼å¼
```
TC-001, TC-002, TC-003, ..., TC-999
```

### âŒ é”™è¯¯æ ¼å¼
```
Test1          # ç¼ºå°‘å‰ç¼€å’Œé›¶å¡«å……
TC-1           # ç¼ºå°‘é›¶å¡«å……
test-001       # å‰ç¼€åº”å¤§å†™
TC001          # ç¼ºå°‘è¿å­—ç¬¦
```

### è§„åˆ™
1. å‰ç¼€å›ºå®šä¸º `TC-`ï¼ˆTest Caseï¼‰
2. ç¼–å·ä½¿ç”¨ 3 ä½æ•°å­—ï¼Œé›¶å¡«å……ï¼ˆ001, 002, ...ï¼‰
3. ç¼–å·ä» 001 å¼€å§‹é€’å¢
4. test-plan.md å’Œ test-report.md å¿…é¡»ä½¿ç”¨å®Œå…¨ç›¸åŒçš„ ID

---

## ğŸ“Š Test Priority ä¼˜å…ˆçº§å®šä¹‰

| Priority | å«ä¹‰ | ä½•æ—¶ä½¿ç”¨ | ç¤ºä¾‹ |
|:---------|:-----|:---------|:-----|
| **P0** | å…³é”®åŠŸèƒ½ï¼Œå¿…é¡»é€šè¿‡æ‰èƒ½å‘å¸ƒ | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€å®‰å…¨åŠŸèƒ½ã€æ•°æ®å®Œæ•´æ€§ | ç”¨æˆ·ç™»å½•ã€æ”¯ä»˜å¤„ç†ã€æƒé™éªŒè¯ |
| **P1** | é‡è¦åŠŸèƒ½ï¼Œåº”è¯¥é€šè¿‡æ‰èƒ½å‘å¸ƒ | å¸¸ç”¨åŠŸèƒ½ã€è¾“å…¥éªŒè¯ã€é”™è¯¯å¤„ç† | è¡¨å•éªŒè¯ã€é”™è¯¯æç¤ºã€æ•°æ®æ ¼å¼åŒ– |
| **P2** | å¯é€‰åŠŸèƒ½ï¼Œå¯ä»¥å»¶è¿Ÿä¿®å¤ | è¾¹ç¼˜æƒ…å†µã€ä¼˜åŒ–ã€è¾…åŠ©åŠŸèƒ½ | UI ç¾åŒ–ã€æ€§èƒ½ä¼˜åŒ–ã€æ—¥å¿—è®°å½• |

---

## ğŸ”¬ Test Type æµ‹è¯•ç±»å‹å®šä¹‰

| Type | æµ‹è¯•å†…å®¹ | ä¾èµ– | é€Ÿåº¦ | ç¤ºä¾‹ |
|:-----|:---------|:-----|:-----|:-----|
| **Unit** | å•ä¸ªå‡½æ•°/ç±»çš„è¡Œä¸º | æ— å¤–éƒ¨ä¾èµ–ï¼ˆæˆ–ä½¿ç”¨ mockï¼‰ | å¿«ï¼ˆ<10msï¼‰ | éªŒè¯å¯†ç æ ¼å¼ã€è®¡ç®—æŠ˜æ‰£é‡‘é¢ |
| **Integration** | å¤šä¸ªæ¨¡å—åä½œ | çœŸå®ä¾èµ–ï¼ˆæ•°æ®åº“ã€APIï¼‰ | ä¸­ï¼ˆ10-100msï¼‰ | ç”¨æˆ·ç™»å½•æµç¨‹ã€è®¢å•åˆ›å»º |
| **E2E** | å®Œæ•´ç”¨æˆ·æµç¨‹ | å®Œæ•´ç³»ç»Ÿï¼ˆå‰åç«¯ï¼‰ | æ…¢ï¼ˆ>100msï¼‰ | ä»æ³¨å†Œåˆ°ä¸‹å•çš„å®Œæ•´æµç¨‹ |

---

## âœ… RED Evidence çº¢ç¯è¯æ®è¦æ±‚

### å¿…é¡»åŒ…å«çš„å†…å®¹
1. **é”™è¯¯ç±»å‹**ï¼š`ReferenceError`, `AssertionError`, `TypeError` ç­‰
2. **é”™è¯¯æ¶ˆæ¯**ï¼šå®Œæ•´çš„é”™è¯¯æè¿°
3. **æ–‡ä»¶å**ï¼šå“ªä¸ªæ–‡ä»¶æŠ›å‡ºé”™è¯¯
4. **è¡Œå·**ï¼šå…·ä½“å“ªä¸€è¡Œå¤±è´¥

### ç¤ºä¾‹æ¨¡æ¿
```
âŒ `<ErrorType>: <Error Message>` at `<file>:<line>`
```

### âœ… å¥½çš„ä¾‹å­
```markdown
âŒ `ReferenceError: authenticateUser is not defined` at `tests/auth.test.ts:7`
âŒ `AssertionError: Expected status 401, received undefined` at `tests/auth.test.ts:23`
âŒ `TypeError: Cannot read property 'hash' of null` at `src/auth/crypto.ts:15`
```

### âŒ åçš„ä¾‹å­
```markdown
Failed                                    # å¤ªæ¨¡ç³Š
Test didn't pass                          # æ²¡æœ‰å…·ä½“ä¿¡æ¯
N/A                                       # è¡¨ç¤ºæ²¡æœ‰è¿è¡Œ RED é˜¶æ®µ
Error in auth.test.ts                     # ç¼ºå°‘é”™è¯¯ç±»å‹å’Œè¡Œå·
```

---

## âœ… GREEN Evidence ç»¿ç¯è¯æ®è¦æ±‚

### å¿…é¡»åŒ…å«çš„å†…å®¹
1. **é€šè¿‡ç¡®è®¤**ï¼šä½¿ç”¨ âœ… æˆ– "PASS"
2. **å…³é”®æ–­è¨€**ï¼šéªŒè¯äº†å“ªäº›å†…å®¹
3. **æµ‹è¯•æ—¶é•¿**ï¼šæ‰§è¡Œæ—¶é—´ï¼ˆå¯é€‰ä½†æ¨èï¼‰

### ç¤ºä¾‹æ¨¡æ¿
```
âœ… `PASS` <Key assertions verified> (<duration>ms)
```

### âœ… å¥½çš„ä¾‹å­
```markdown
âœ… `PASS` All assertions passed. Token verified. (45ms)
âœ… `PASS` Status 401, error message matched (23ms)
âœ… `PASS` Input sanitized, no SQL executed (67ms)
```

### âŒ åçš„ä¾‹å­
```markdown
Passed                                    # ç¼ºå°‘å…·ä½“ä¿¡æ¯
OK                                        # å¤ªç®€ç•¥
N/A                                       # è¡¨ç¤ºæ²¡æœ‰å®ç°
Test works now                            # ä¸ä¸“ä¸š
```

---

## ğŸ“ Requirements Traceability Matrix éœ€æ±‚è¿½æº¯çŸ©é˜µ

### ç›®çš„
ç¡®ä¿æ¯ä¸ªéœ€æ±‚éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ï¼Œæ¯ä¸ªæµ‹è¯•éƒ½å¯¹åº”ä¸€ä¸ªéœ€æ±‚ã€‚

### æ ¼å¼
```markdown
| Test ID | Requirement ID | Requirement Description | Status |
|:--------|:---------------|:------------------------|:-------|
| TC-001 | REQ-AUTH-001 | User can login | Planned/âœ…/â³ |
```

### ä¸€å¯¹å¤šæ˜ å°„
ä¸€ä¸ªéœ€æ±‚å¯ä»¥å¯¹åº”å¤šä¸ªæµ‹è¯•ï¼š
```markdown
| TC-001 | REQ-AUTH-001 | User can login with valid credentials | âœ… |
| TC-002 | REQ-AUTH-001 | User can login with valid credentials | âœ… |
| TC-003 | REQ-AUTH-002 | System rejects invalid attempts | âœ… |
```

### Requirement ID æ¥æº
ä» `prd.md` ä¸­æå–ï¼Œæ ¼å¼ï¼š`REQ-<CATEGORY>-<NUMBER>`

ç¤ºä¾‹ï¼š
- `REQ-AUTH-001` - è®¤è¯éœ€æ±‚ 001
- `REQ-VAL-002` - éªŒè¯éœ€æ±‚ 002
- `REQ-SEC-001` - å®‰å…¨éœ€æ±‚ 001

---

## ğŸ“Š Code Coverage è¦†ç›–ç‡æ ‡å‡†

### æœ€ä½è¦æ±‚
- **Statement Coverageï¼ˆè¯­å¥è¦†ç›–ç‡ï¼‰ï¼š** â‰¥ 80%
- **Branch Coverageï¼ˆåˆ†æ”¯è¦†ç›–ç‡ï¼‰ï¼š** â‰¥ 75%
- **Function Coverageï¼ˆå‡½æ•°è¦†ç›–ç‡ï¼‰ï¼š** â‰¥ 90%

### è¦†ç›–ç‡æŠ¥å‘Šæ ¼å¼
```markdown
File                | % Stmts | % Branch | % Funcs | % Lines | Uncovered Lines
--------------------|---------|----------|---------|---------|------------------
src/auth/           |   94.12 |    88.24 |   95.00 |   94.44 |
  authenticate.ts   |   95.24 |    88.89 |  100.00 |   95.00 | 67-68
  validate.ts       |   92.31 |    87.50 |   90.00 |   93.33 | 23, 45
```

### æœªè¦†ç›–è¡Œçš„å¤„ç†
å¦‚æœæœ‰æœªè¦†ç›–çš„è¡Œï¼ˆUncovered Linesï¼‰ï¼Œå¿…é¡»ï¼š
1. æ£€æŸ¥æ˜¯å¦æ˜¯æ­»ä»£ç ï¼ˆå¯ä»¥åˆ é™¤ï¼‰
2. å¦‚æœæ˜¯æ­£å¸¸ä»£ç ï¼Œæ·»åŠ æµ‹è¯•è¦†ç›–
3. å¦‚æœæ˜¯é˜²å¾¡æ€§ä»£ç ï¼ˆæç«¯è¾¹ç•Œæƒ…å†µï¼‰ï¼Œæ·»åŠ æ³¨é‡Šè¯´æ˜

---

## ğŸš¦ Test Classification Summary åˆ†ç±»æ±‡æ€»

### ç”¨é€”
å¿«é€Ÿäº†è§£æµ‹è¯•åˆ†å¸ƒï¼Œç¡®ä¿å„ç±»æµ‹è¯•å¹³è¡¡ã€‚

### ä¸‰ä¸ªç»´åº¦

#### 1. æŒ‰ä¼˜å…ˆçº§ï¼ˆBy Priorityï¼‰
```markdown
### By Priority
- **P0 (Critical):** 4/4 passed âœ…
- **P1 (Important):** 3/3 passed âœ…
- **P2 (Nice to have):** 1/1 passed âœ…
```

#### 2. æŒ‰ç±»å‹ï¼ˆBy Typeï¼‰
```markdown
### By Type
- **Unit Tests:** 2/2 passed âœ…
- **Integration Tests:** 5/5 passed âœ…
- **E2E Tests:** 0/0 passed N/A
```

#### 3. æŒ‰åˆ†ç±»ï¼ˆBy Categoryï¼‰
```markdown
### By Category
- **Auth:** 4/4 passed âœ…
- **Validation:** 2/2 passed âœ…
- **Security:** 1/1 passed âœ…
```

### ç†æƒ³åˆ†å¸ƒ
- **ä¼˜å…ˆçº§ï¼š** P0 å’Œ P1 åº”è¯¥å  80% ä»¥ä¸Š
- **ç±»å‹ï¼š** Unit : Integration : E2E â‰ˆ 50% : 40% : 10%
- **åˆ†ç±»ï¼š** æ ¹æ®åŠŸèƒ½å¤æ‚åº¦åˆ†å¸ƒ

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### 1ï¸âƒ£ è®¡åˆ’é˜¶æ®µï¼ˆPlanningï¼‰
```bash
# åˆ›å»º test-plan.md
cp skills/test-driven-development/test-plan-template.md \
   docs/features/<feature-key>/test-plan.md

# å¡«å†™å†…å®¹
vim docs/features/<feature-key>/test-plan.md
```

**å¿…é¡»å¡«å†™ï¼š**
- [ ] Test Cases è¡¨æ ¼ï¼ˆæ‰€æœ‰ Test IDsï¼‰
- [ ] Requirements Traceability Matrix
- [ ] Test Classification Summary
- [ ] Test Strategy

### 2ï¸âƒ£ RED é˜¶æ®µï¼ˆWrite Failing Testï¼‰
```bash
# 1. å†™æµ‹è¯•ä»£ç 
vim tests/feature.test.ts

# 2. è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»å¤±è´¥ï¼‰
npm test tests/feature.test.ts

# 3. å¤åˆ¶é”™è¯¯è¾“å‡º
```

**è®°å½•åˆ° test-report.mdï¼š**
```markdown
| TC-001 | ... | âŒ `<ErrorType>: <message>` at `<file>:<line>` | (å¾…å¡«) | ... | ... |
```

### 3ï¸âƒ£ GREEN é˜¶æ®µï¼ˆWrite Implementationï¼‰
```bash
# 1. å†™å®ç°ä»£ç 
vim src/feature.ts

# 2. è¿è¡Œæµ‹è¯•ï¼ˆå¿…é¡»é€šè¿‡ï¼‰
npm test tests/feature.test.ts

# 3. å¤åˆ¶æˆåŠŸè¾“å‡ºå’Œè¦†ç›–ç‡
```

**æ›´æ–° test-report.mdï¼š**
```markdown
| TC-001 | ... | âŒ ... | âœ… `PASS` All assertions passed (45ms) | npm test ... | 45ms |
```

### 4ï¸âƒ£ æ›´æ–°æ±‡æ€»ä¿¡æ¯
æ¯å®Œæˆä¸€ä¸ªæµ‹è¯•ï¼Œæ›´æ–°ï¼š
- Executive Summaryï¼ˆæ€»æ•°ã€é€šè¿‡æ•°ï¼‰
- Requirements Coverageï¼ˆçŠ¶æ€ä» â³ æ”¹ä¸º âœ…ï¼‰
- Code Coverage Reportï¼ˆæ–°çš„è¦†ç›–ç‡ï¼‰
- Test Classification Summaryï¼ˆå„åˆ†ç±»çš„é€šè¿‡æ•°ï¼‰

### 5ï¸âƒ£ æäº¤ä»£ç 
```bash
git add tests/ src/ docs/features/<feature-key>/test-report.md
git commit -m "Implement TC-001, TC-002: User authentication"
```

---

## ğŸ” å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

### Q1: æµ‹è¯•é€šè¿‡äº†ä½†æ²¡æœ‰ RED è¯æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ
**A:** åˆ é™¤å®ç°ä»£ç ï¼Œé‡æ–°å¼€å§‹ TDD å¾ªç¯ã€‚æµ‹è¯•ç«‹å³é€šè¿‡è¯´æ˜ä½ åœ¨æµ‹è¯•å·²æœ‰åŠŸèƒ½ï¼Œä¸æ˜¯æ–°åŠŸèƒ½ã€‚

### Q2: å¯ä»¥å…ˆå†™æ‰€æœ‰æµ‹è¯•ï¼Œå†ä¸€èµ·å®ç°å—ï¼Ÿ
**A:** ä¸æ¨èã€‚åº”è¯¥ä¸€ä¸ªæµ‹è¯•ä¸€ä¸ªæµ‹è¯•åœ°å®Œæˆ RED â†’ GREEN å¾ªç¯ï¼Œè¿™æ ·å¯ä»¥åŠæ—¶å‘ç°è®¾è®¡é—®é¢˜ã€‚

### Q3: è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯å¤„ç†éœ€è¦å•ç‹¬çš„ Test ID å—ï¼Ÿ
**A:** æ˜¯çš„ã€‚æ¯ä¸ªæµ‹è¯•åœºæ™¯éƒ½åº”è¯¥æœ‰ç‹¬ç«‹çš„ Test IDï¼Œå³ä½¿å®ƒä»¬æµ‹è¯•åŒä¸€ä¸ªå‡½æ•°ã€‚

ç¤ºä¾‹ï¼š
- TC-001: æ­£å¸¸è¾“å…¥
- TC-002: ç©ºè¾“å…¥
- TC-003: è¶…é•¿è¾“å…¥
- TC-004: ç‰¹æ®Šå­—ç¬¦è¾“å…¥

### Q4: test-report.md å¤ªé•¿äº†ï¼Œå¯ä»¥ç®€åŒ–å—ï¼Ÿ
**A:** ä¸å¯ä»¥ã€‚å®Œæ•´çš„æŠ¥å‘Šæ˜¯ TDD åˆè§„æ€§çš„è¯æ®ã€‚ä½†å¯ä»¥æŠŠè¯¦ç»†è¾“å‡ºæ”¾åœ¨"Detailed Test Results"éƒ¨åˆ†ï¼Œä¸»è¡¨æ ¼ä¿æŒç®€æ´ã€‚

### Q5: é‡æ„æ—¶éœ€è¦æ›´æ–° test-report.md å—ï¼Ÿ
**A:** å¦‚æœæµ‹è¯•æœ¬èº«æ²¡å˜ï¼Œåªæ˜¯å®ç°å˜äº†ï¼Œä¸éœ€è¦æ›´æ–°ã€‚ä½†å¦‚æœé‡æ„å¯¼è‡´æµ‹è¯•ä¿®æ”¹ï¼Œéœ€è¦é‡æ–°è®°å½• RED/GREEN è¯æ®ã€‚

### Q6: å¦‚ä½•å¤„ç†è·¨æ¨¡å—çš„é›†æˆæµ‹è¯•ï¼Ÿ
**A:**
1. åœ¨ test-plan.md çš„ "Dependencies" åˆ—æ˜ç¡®åˆ—å‡ºä¾èµ–çš„æ¨¡å—
2. Test Type æ ‡è®°ä¸º "Integration"
3. ç¡®ä¿æµ‹è¯•ç¯å¢ƒå‡†å¤‡å¥½æ‰€æœ‰ä¾èµ–ï¼ˆæ•°æ®åº“ã€æœåŠ¡ç­‰ï¼‰

---

## ğŸ“Œ å…³é”®è¦ç‚¹æ€»ç»“

### âœ… å¿…é¡»åšçš„äº‹
1. **test-plan.md å…ˆäºä»»ä½•ä»£ç **
2. **æ¯ä¸ªæµ‹è¯•éƒ½è¦æœ‰ RED è¯æ®**
3. **Test ID å¿…é¡»å®Œå…¨ä¸€è‡´**ï¼ˆtest-plan â†” test-reportï¼‰
4. **è¦†ç›–ç‡ â‰¥ 80%**
5. **æ‰€æœ‰ P0 æµ‹è¯•å¿…é¡»é€šè¿‡**

### âŒ ç¦æ­¢åšçš„äº‹
1. **å…ˆå†™ä»£ç å†è¡¥æµ‹è¯•**
2. **RED/GREEN è¯æ®ç•™ç©ºæˆ–å¡« "N/A"**
3. **Test ID æ ¼å¼ä¸ä¸€è‡´**
4. **è·³è¿‡æµ‹è¯•æˆ–æ ‡è®°ä¸º TODO**
5. **è¦†ç›–ç‡é€ å‡**

### ğŸ¯ æœ€ç»ˆç›®æ ‡
å®Œæˆå¼€å‘åï¼Œèƒ½å¤Ÿå‘ä»»ä½•äººè¯æ˜ï¼š
1. âœ… æ‰€æœ‰éœ€æ±‚éƒ½æœ‰æµ‹è¯•è¦†ç›–
2. âœ… æ‰€æœ‰æµ‹è¯•éƒ½å…ˆå†™åå®ç°ï¼ˆæœ‰ RED è¯æ®ï¼‰
3. âœ… æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼ˆæœ‰ GREEN è¯æ®ï¼‰
4. âœ… ä»£ç è´¨é‡è¾¾æ ‡ï¼ˆè¦†ç›–ç‡ã€æ€§èƒ½ï¼‰
5. âœ… å¯ä»¥éšæ—¶å›å½’æµ‹è¯•ï¼ˆé˜²æ­¢ç ´åï¼‰

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- **æ¨¡æ¿æ–‡ä»¶ï¼š**
  - `test-plan-template.md` - æµ‹è¯•è®¡åˆ’æ¨¡æ¿
  - `test-report-template.md` - æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

- **å®Œæ•´ç¤ºä¾‹ï¼š**
  - `TDD-WORKFLOW-EXAMPLE.md` - ç”¨æˆ·è®¤è¯åŠŸèƒ½çš„å®Œæ•´ç¤ºä¾‹

- **å·¥ä½œæµæŠ€èƒ½ï¼š**
  - `test-driven-development/SKILL.md` - TDD æŠ€èƒ½å®šä¹‰
  - `writing-plans/SKILL.md` - è®¡åˆ’ç¼–å†™ï¼ˆåŒ…å« Task 0ï¼‰
  - `implementer-prompt.md` - å®æ–½è€…æç¤ºæ¨¡æ¿
  - `spec-reviewer-prompt.md` - è§„èŒƒå®¡æŸ¥æç¤ºæ¨¡æ¿

---

**æœ€åæ›´æ–°ï¼š** 2026-01-16
**ç‰ˆæœ¬ï¼š** 1.0.0
